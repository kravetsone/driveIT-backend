generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = "postgresql://root:bestsecure@localhost:5432/driveit?schema=public"
}

model User {
  id Int @id @default(autoincrement())

  login    String @unique
  password String

  firstName String
  lastName  String

  role UserRole @default(USER)
}

enum UserRole {
  USER
  ADMIN
}

//GTFS

model Agency {
  id       String @id @unique
  name     String
  url      String
  timezone String
  lang     String
}

model Stop {
  id            String  @id @unique
  name          String
  lat           Float
  lon           Float
  locationType  Int
  parentStation String?
  platformCode  String?
}

model Route {
  id        Int    @id @unique
  agencyId  String
  shortName String
  longName  String
  type      Int
  url       String
}

model Calendar {
  id Int @id @default(autoincrement())

  serviceId   String
  isMonday    Boolean
  isTuesday   Boolean
  isWednesday Boolean
  isThursday  Boolean
  isFriday    Boolean
  isSaturday  Boolean
  isSunday    Boolean
  startDate   Int
  endDate     Int
}

model StopTime {
  id Int @id @default(autoincrement())

  tripId        Int
  arrivalTime   String
  departureTime String
  stopId        String
  stopSequence  Int
  stopHeadsign  String
}

model Trip {
  id Int @id @default(autoincrement())

  routeId   Int
  serviceId String
  tripId    Int
}
